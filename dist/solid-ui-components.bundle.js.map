{"version":3,"file":"solid-ui-components.bundle.js","mappings":"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","sources":["webpack://solidUI/webpack/universalModuleDefinition","webpack://solidUI/webpack/bootstrap","webpack://solidUI/webpack/runtime/define property getters","webpack://solidUI/webpack/runtime/hasOwnProperty shorthand","webpack://solidUI/./src/model/profile.js","webpack://solidUI/./src/databrowser.js","webpack://solidUI/./src/user.js","webpack://solidUI/./src/model/rss.js","webpack://solidUI/./src/view/accordion.js","webpack://solidUI/./src/view/app.js","webpack://solidUI/./src/view/form.js","webpack://solidUI/./src/view/menu.js","webpack://solidUI/./src/view/modal.js","webpack://solidUI/./src/view/table.js","webpack://solidUI/./src/view/tabs.js","webpack://solidUI/./src/index.js","webpack://solidUI/./src/model/sparql.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"solidUI\"] = factory();\n\telse\n\t\troot[\"solidUI\"] = factory();\n})(self, function() {\nreturn ","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","const $rdf = panes.UI.rdf;\nconst kb = panes.UI.store;\nconst fetcher = $rdf.fetcher(kb);\n\nconst RDFS = $rdf.Namespace('http://www.w3.org/2000/01/rdf-schema#');\nconst OWL = $rdf.Namespace('http://www.w3.org/2002/07/owl#');\nconst FOAF = $rdf.Namespace('http://xmlns.com/foaf/0.1/');\nconst SOLID = $rdf.Namespace('http://www.w3.org/ns/solid/terms#');\nconst PIM = $rdf.Namespace('http://www.w3.org/ns/pim/space#');\nconst LDP = $rdf.Namespace('http://www.w3.org/ns/ldp#');\nconst VCARD = $rdf.Namespace('http://www.w3.org/2006/vcard/ns#');\n\n/* loadProfile()\n*/\nexport async function loadProfile(webId) {\n  await fetcher.load(webId);\n  let extendedDocs = kb.each( webId, RDFS('seeAlso') );\n  extendedDocs = extendedDocs.concat( kb.each( webId, OWL('sameAs') ) );\n  extendedDocs = extendedDocs.concat( kb.each( webId, FOAF('primaryTopicOf') ) );\n  for(let doc of extendedDocs){\n    await fetcher.load(doc);\n  }\n  let me = {\n    webId,\n    name  : getObject(kb,webId,FOAF('name')) || getObject(kb,webId,VCARD('fn')) || \"\",\n    nick  : getObject(kb,webId,FOAF('nick')) || \"\",\n    image : getObject(kb,webId,VCARD('hasPhoto')) || \"\",\n    inbox : getObject(kb,webId,LDP('inbox')) || \"\",\n    preferences : getObject(kb,webId,PIM('preferencesFile')) || \"\",\n    privateTypeIndex : getObject(kb,webId,SOLID('privateTypeIndex')) || \"\",\n    publicTypeIndex : getObject(kb,webId,SOLID('publicTypeIndex')) || \"\",\n    storages : getObjects(kb,webId,PIM('storage')) || \"\",\n    issuers : getObjects(kb,webId,SOLID('oidcIssuer')) || \"\",\n  }\n  return me; // I'm defective, get your money back ;-)\n}\n\nfunction getObject(kb,subject,predicate){\n  subject = kb.sym(subject);\n  let value = kb.any(subject,predicate);\n  return value ?value.value :\"\";\n}\nfunction getObjects(kb,subject,predicate){\n  subject = kb.sym(subject);\n  let value = kb.each(subject,predicate);\n  let results = [];\n  for(let v of value){\n    results.push(v ?v.value :\"\");\n  }\n  return results;\n}\n","import {loadProfile} from './model/profile.js';\n\nexport async function applyProfile(domElement,me) {\n  domElement  ||= document;\n  let origin = window.origin;\n  me ||= `${origin}/profile/card#me`;\n  me = await loadProfile( me );\n  const storage = me.storages ?me.storages[0] :null ; // TBD MULTIPLE STORAGES\n  me.name = me.name || me.nick || me.webId;\n  let hmenu =   domElement.querySelectorAll('#currentPodMenu LI');\n  for(let h of hmenu){\n    let uri; try { uri = new URL(h.name) }catch(e){};\n    if(!uri) continue;\n    let path = uri.pathname.replace(/^\\//,'');\n    let hash = uri.hash||\"\";\n    if(path.match(/Documents/i)){\n//      h.name = storage ;\n      h.name = storage.replace(/\\/$/,'') + hash;\n    }\n    else if(path.match(/Inbox/i)){\n      h.name = me.inbox ;\n    }\n    else if(path.match(/profile/i)){\n      h.name = me.webId ;\n    }\n    else {\n       h.name = storage+path+hash;\n    }\n  }\n  let logo = domElement.querySelector('#currentPodLogo')\n  if(logo) logo.src = me.image;\n  let title = domElement.querySelector('#currentPodTitle');\n  if(title) title.innerHTML=`${me.name}'s Pod`;\n  solidUI.vars = {\n    podRoot   : storage,\n    podName   : me.name,\n    podNick   : me.nick,\n    podWebid  : me.webId,\n    podImage  : me.image,\n    podInbox  : me.inbox,\n    podProfile : me.webId,\n  };\n  console.log(solidUI.vars);\n  return me;\n}\n \n    export function setHistory(uri){\n      const params = new URLSearchParams(location.search)\n      params.set('uri', (uri||\"\"));\n      window.history.replaceState({}, '', `${location.origin}${location.pathname}?${params}`);\n    }\n\nexport async function createLoginBox(domElement){\n    const loginButtonArea = domElement.querySelector(\"#loginArea\");\n    const UI = panes.UI;\n    let tabulator = domElement.querySelector('#suicTabulator')\n      tabulator.style= `\n        display: none; /* Hidden by default */\n        position: fixed; /* Stay in place */\n        z-index: 1; /* Sit on top */\n        left: 0;\n        top: 10vh;\n        /* height: set in app.js */\n        width: 100%; /* Full width */\n        overflow: auto; /* Enable scroll if needed */\n        background-color: rgb(0,0,0); /* Fallback color */\n        background-color: rgba(0,0,0,0.2); /* Black w/ opacity */\n      `; \n\n    async function mungeLoginArea(uri){\n      await initAuth();\n      loginButtonArea.innerHTML=\"\";\n      loginButtonArea.appendChild(UI.authn.loginStatusBox(document, null, {}))\n      let loginButtons = loginButtonArea.querySelectorAll('input');\n/*\n      for(let button of loginButtons){\n        button.style = `\n          border:none;\n          background:transparent;\n          font-size:1rem;\n          position: absolute;\n          top:3.5rem;\n          right:7.2rem;\n          cursor:pointer;\n        `;\n      }\n*/\n      loginButtons[0].value = loginButtons[0].value.replace(/WebID\\s*/,'');\n      if(loginButtons[1]) loginButtons[1].style.display=\"none\";\n    }      \n    async function initAuth(){\n      if( !UI.authn.currentUser() ) {\n        await UI.authn.checkUser();\n      }\n    }\n    if( UI.authn.authSession ) {\n      UI.authn.authSession.onLogin(() => {\n        mungeLoginArea();\n      })\n      UI.authn.authSession.onLogout(() => {\n        mungeLoginArea();\n      })\n      UI.authn.authSession.onSessionRestore((url) => {\n        mungeLoginArea();\n\n      })\n    }    \n//    document.addEventListener('DOMContentLoaded',()=>{mungeLoginArea();});\n    mungeLoginArea();\n} // ENDS\n","import {setHistory,applyProfile} from './databrowser.js';\n\n/* ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n  USER CALLABLE ACTIONS\n~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ */\n\n  // https://stackoverflow.com/a/41015840/15781258\n  //\n  String.prototype.interpolate = function(params) {\n    const names = Object.keys(params);\n    const vals = Object.values(params);\n    return new Function(...names, `return \\`${this}\\`;`)(...vals);\n  }\n\n  async function showIframe(uri,displayArea){\n    if( uri.match(/localhost/) ) {\n      displayArea.src = uri;\n      return  ;\n    }\n    const r = await fetch(uri);\n    const content = await r.text();\n    const contentElement = this.createElement('SPAN','',content);\n    displayArea.contentWindow.document.body.innerHTML = \"\";\n    displayArea.contentWindow.document.body.appendChild(contentElement);\n  }\n  window.openModal = function (element,action){\n    element.parentElement.children[1].style.display = \"block\" ;\n  }\n  window.closeModal = function (element,action){\n    element.parentElement.parentElement.style.display = \"none\" ;\n  }\n  function showByClass(event){\n    let wanted = event.target.dataset.link;\n    let main = event.target.closest('.solid-uic-app').querySelector('.main');\n    let elements = main.querySelectorAll('[typeof]');\n    for(let element of elements){\n      if(wanted===\"all\") {\n        element.style.display=\"block\";\n        continue;\n      }\n      if( (element.getAttribute('value')).indexOf(wanted)>-1 ) element.style.display=\"block\";\n    //  if(element.classList.contains(wanted)) element.style.display=\"block\";\n      else element.style.display=\"none\";\n    }\n    highlightMenuSelection(event)\n  }\n  function highlightMenuSelection (e) {\n    let wanted = e.target.dataset.link;\n    let siblings = e.target.parentElement.children;\n    for(let sib of siblings){\n      if(sib.dataset.link===wanted)  sib.classList.add('selected');\n      else sib.classList.remove('selected');\n    }\n  }\n  function toggleAccordion (e) {\n    let wanted = e ?e.target.dataset.link :null;\n    let siblings = e.target.closest('UL').children;\n\n    // HIDE ALL ACCORDION DROPDOWNS\n    let navs = e.target.closest('UL').querySelectorAll('NAV');\n    for(let n of navs) {n.style.display=\"none\"}\n\n    // SHOW SELECTED ACCORDION DROPDOWNS\n    for(let sib of siblings){\n      let button = sib.querySelector('BUTTON');\n      let links = sib.querySelectorAll('NAV DIV');\n      for(l of links) { l.classList.remove('selected')}\n      let box = sib.querySelector('NAV');\n      if(button.dataset.link===wanted)  {\n        box.style.display=\"block\";\n      }  \n    } \n  }\n  window.displayLink = async function( e, item, element ){\n    if(typeof item==='string') item = { href:item }\n    item.href = item.href || item.link;\n    item.type = item.type || 'Link';\n    item.type = item.type.replace(/http:\\/\\/www.w3.org\\/ns\\/ui#/,'');\n\n\n    // IF POPOUT, DISPLAY IN ITS OWN OVERLAY AND RETURN\n    if(item.popout) {\n      let newElement = await solidUI.processComponent('',item.href)\n      newElement.style.display=\"block\";\n      document.body.appendChild(newElement);\n      return newElement;\n    }\nalert(1)\n\n    // IF SOLIDOS LINK, DISPLAY WITH GOTOSUBJECT, RETURN\n    if(item.type.startsWith(\"SolidOS\")) {\nalert(2)\n      document.getElementById('mainMain').style.display=\"none\";\n      const targetElement = document.getElementById('suicTabulator')\n      targetElement.style.display=\"block\";\n      let wantedPane;\n      let subject = item.href;\n      if( item.pane ) {\n         wantedPane = panes.byName(item.pane);\n      }\n      else if( item.pod ) {\n        let me = await applyProfile(null,item.pod);\n        subject = me.storages[0];\n      }\n      subject = window.kb.sym(subject);\n      setHistory(subject.uri);\n      window.outliner.GotoSubject(subject,true,wantedPane,true,null,targetElement);\n      return;\n    }\n\n    let main = document.getElementById('mainMain')\n    let tabulator = document.getElementById('suicTabulator')\n    if(main) main.style.display=\"block\";\n    if(tabulator) tabulator.style.display=\"none\";\n\n    // FIND CONTAINING ELEMENT\n    let containingEl;\n    if(element && !e){\n      containingEl = element;\n    }\n    // let wrapper =e.target.closest('.solid-ui-component')\n    let wrapper = e && e.target ?e.target.closest('.solid-uic-app') :null;\n    if(wrapper && wrapper.classList.contains('solid-main-app')) {\n      containingEl = wrapper.querySelector('#mainMain');\n    }\n    else if(wrapper) {\n      containingEl = wrapper.querySelector('.main');\n    } \n    containingEl=containingEl||document.body.querySelector('.main')||document.body;\n    if(containingEl) containingEl.innerHTML=\"\";\n    let content = item.content;\n    if(content){\n      let span = document.createElement('SPAN')\n      content = content.interpolate(solidUI.vars);\n      span.innerHTML = content;\n//      span = mungeAnchors(span);\n      containingEl.innerHTML=\"\"\n      containingEl.appendChild(span);\n      return await solidUI.initInternal(containingEl);  \n    }\n    // SolidOsLink\n    if(item.type===\"SolidOSLink\") {\n        return;\n    }\n    // FEED \n    if(item.type===\"Feed\"||item.linkType===\"Feed\") {\n      let newItem = {\n        type:\"App\",\n        orientation:\"vertical\",\n        menu:item\n      }\n      let content = await solidUI.processComponent('','',newItem)\n      content = mungeAnchors(content,\"noStyle\");\n      containingEl.innerHTML=\"\"\n      containingEl.appendChild(content);\n      return containingEl;\n    }\n    // MARKDOWN\n    else if(item.type==='TransformLink'){\n      if(item.href && item.format && item.format.match(/markdown/)){\n        return showMarkdown(item,containingEl);\n      }\n    }\n    else if(item.type===\"Link\") {\n      if(content){\n          containingEl.innerHTML = content;\n        return await this.initInternal(containingEl);  \n      }\n      else if(item.script){\n        let content = await Function('\"use strict\";return (' + item.script + ')')();\n        content = mungeAnchors(content) ;\n//        containingEl.innerHTML=\"\"\n        return(content);\n      }\n      else if(item.href){\n        let content = await getIframe(item,containingEl,item.nativeIframe);\n//        containingEl.innerHTML=\"\"\n        containingEl.appendChild(content);\n        return containingEl;\n      }\n    }\n    else {\n      content = await solidUI.processComponent('',item) ;\n      if(!item.format) content = mungeAnchors(content);\n      containingEl.innerHTML=\"\"\n      if(typeof content === 'string'){\n        let div = document.createElement('DIV');\n        div.innerHTML = content;\n        containingEl.appendChild(div);\n      }\n      else containingEl.appendChild(content);\n      return containingEl;\n    }\n  }\n  async function showMarkdown(item,containingEl){\n    let content = await fetch(item.href);\n    content = await content.text();\n    containingEl.innerHTML=\"\"\n    let style =`\n<style>\n  h1 {display:none;}\n//  a{text-decoration:none; padding-top:0.25em;display:inline-block;padding-left:1em;}\n  ul {list-style:none;padding-left:0;margin-top:0;}\n</style>`;\n    let wrapper = document.createElement('SPAN');\n    wrapper.innerHTML = style + marked.parse( content );\n    wrapper = mungeAnchors(wrapper,\"noStyle\");\n    return wrapper;\n  }\n\n  function mungeAnchors(element,noStyle){\n    if(!element) return;\n    const anchors = element.querySelectorAll('A');\n    for(var anchor of anchors){\n      if(anchor.classList.contains('skipMunge')) continue;\n      anchor.addEventListener('click',async(event)=>{\n        event.preventDefault();\n        let display = event.target.closest('.solid-uic-app')\n        display = display.querySelector('.main');\n       let href = event.target.href || event.target.parentElement.href\n        displayLink(null,{href,needsIframe:true},display);\n      });\n      if(noStyle) continue;\n      anchor.style=\"display:block;text-decoration:none;padding:0.5em; border-bottom:1px solid grey;\";\n    }\n    return element;\n  }\n  async function getIframe(item,containingEl,nativeIframe){\n    let uri = item.href;\n    const iframe = document.createElement(\"IFRAME\");\n    iframe.style=\"width:100%;height:90vh;border:none;margin:0;padding:0;\";\n    iframe.src = \"\";\n    if(nativeIframe) {\n      iframe.src=uri;\n    }\n    else {\n      try{\n        let content = await fetch(uri);\n        if(content){\n          content = await content.text()\n//        if(!content.match(/^\\s*</)) return await goto(uri,containingEl);\n          containingEl.innerHTML=\"\";\n          uri = uri.replace(/^.*proxy\\?uri=/,'');\n          uri = new URL(uri);\n          const b = `<base href=\"${uri.origin}/\"><base target=\"_BLANK\">`;\n          iframe.srcdoc = `<body>${b}${content}</body>`\n          iframe.scrollTo({ top: 0, behavior: \"smooth\" });\n        }\n        else {\n          console.log(\"Fetched but no content!\");\n        }\n      }\n      catch(e){console.log(\"Couldn't fetch!\",e)}\n    }\n    return iframe;\n  }\n\n  async function goto(uri,domElement){\n    var kb = UI.store;\n    var outliner = panes.getOutliner(window.document)\n    var subject = kb.sym(uri);\n    const pane = panes.byName('dataContents');\n    outliner.GotoSubject(subject, true, pane, true, undefined);\n  }\n\n  function gotoPane(uri,paneName,targetElement){\n    var subject = panes.UI.rdf.sym(uri);\n    var wantedPane = panes.byName(paneName);\n    outliner.GotoSubject(subject,true,wantedPane,true,null,targetElement);\n  }\n\n  function renderSolidOSpage(item){\n     const targetElement = document.getElementById('suicTabulator')\n     targetElement.style.display=\"block\";\n     window.outliner.GotoSubject(window.kb.sym(item.href),true,undefined,true);\n  }\n","export class Feed {\n\n  async fetchAndParse(solidUI,feedUri){\n\n    // fetch feed URI & parse into a Dom structure\n    //\n    feedUri = encodeURI( feedUri );\n    feedUri = (solidUI.proxy||\"\") + feedUri;\n\n    let response = await fetch( feedUri )\n    let feedContent = await response.text();\n    const domParser = new window.DOMParser();\n    let feedDom = domParser.parseFromString(feedContent, \"text/xml\")\n\n    // find items (RSS) or entries (Atom)\n    //\n    let items = feedDom.querySelectorAll(\"item\") || null;\n    items = items.length<1 ?feedDom.querySelectorAll(\"entry\") :items;\n\n    // parse items\n    //\n    let parsedItems=[];\n    items.forEach( el => {\n\n      // find item link, account for specific kinds of quirks\n      //\n      let link = el.querySelector(\"link\").innerHTML;\n      // vox\n      if(!link) link = el.querySelector('link').getAttribute('href');\n      // reddit\n      if(!link || link.match(/ /)){\n        link = el.querySelector('content').innerHTML.replace(/.*\\[link\\]/ ,'').replace(/a href=\"/,'').replace(/\"&gt;.*/,'').replace(/.*&lt;/,'');\n      }\n      // engadget\n      if(!link.match(/^http/)) link = link.replace(/.*\\[CDATA\\[/,'');\n\n      // always use https, not http\n      link = link.replace(/^http:/,'https:');\n\n      // get the title\n      let title = el.querySelector(\"title\").innerHTML;\n      title = title.replace(/^\\<\\!\\[CDATA\\[/,'');\n      title = title.replace(/\\]\\].*\\>/,'').trim();\n\n      parsedItems.push({title,link});\n    });\n    return parsedItems;\n  }  // END OF fetchAndParse()\n\n  async render(solidUI,json){\n    let items = \"\";\n    let externalLinkIcon = UI.icons.iconBase+`/noun_189137.svg`;\n    externalLinkIcon = `<img src=\"${externalLinkIcon}\" style=\"width:1.2em;height:1.2em;display:inline-block; padding-left:0.4em;\">`;\n    for(let i of await this.fetchAndParse(solidUI,(json.href||json.link))){\n      if(json.displayTarget===\"window\"){\n        items += `\n          <li about=\"${i.link}\" typeof=\"rss:item\">\n            <a href=\"${i.link}\" target=\"_BLANK\" property=\"rss:title\">\n              ${i.title}\n            </a>\n          </li>\n        `;\n      }\n      else {\n        items += `\n          <li about=\"${i.link}\" typeof=\"rss:item\" style=\"display:none;background:green;border:1px solid grey;\">\n            <a href=\"${i.link}\" class=\"skipMunge\" target=\"_BLANK\" class=\"external\">${externalLinkIcon}</a>\n            <a href=\"${json.proxy+i.link}\" property=\"rss:title\">\n              ${i.title}\n            </a>\n          </li>\n        `;\n      }\n    }\n    const wrapper = document.createElement('DIV');\n    wrapper.property = \"xmlns:rss\";\n    wrapper.content = \"http://purl.org/rss/1.0/\";\n    if(json.standAlone) {\n    wrapper.innerHTML = `\n        <div about=\"${json.href}\" typeof=\"rss:channel\">\n          <b property=\"rss:title\">${json.label}</b>\n          <ul typeof=\"rss:items\" style=\"display:table\">\n            ${items}\n          </ul>\n        </div>\n    `;\n    wrapper.querySelector('B').style=`padding:1em;padding-right:0;background:${json.selBackground};color:${json.selColor};border:1px solid grey;width:100%;display:inline-block`;\n    wrapper.querySelector('UL').style=`padding:0;border:1px solid grey;border-top:none;list-style:none;margin-top:0;width:100%;height:${json.height};overflow-y:auto`;\n    }\n    else {\n    wrapper.innerHTML = `\n        <div about=\"${json.href}\" typeof=\"rss:channel\">\n          <div property=\"title\" style=\"background:#d0d0d0;padding:1em;\">${json.label}</div>\n          <ul typeof=\"rss:items\" style=\"display:table\">\n            ${items}\n          </ul>\n        </div>\n    `;\n    wrapper.querySelector('UL').style=`padding:0;padding-left:0;list-style:none;margin-top:0;width:100%;`;\n    }\n    let anchors = wrapper.querySelectorAll('A');\n    for(let anchor of anchors){\n      anchor.style=\"text-decoration:none;\"\n    }\n    let listItems = wrapper.querySelectorAll('LI');\n    for(let li of listItems){\n      li.style=\"padding:1em;padding-bottom:0.75em;border-bottom:1px solid grey\";\n    }\n    if(json.width) wrapper.style.width = json.width;\n    return wrapper;\n  }\n}\n\n","export class Accordion {\n  async render(solidUI,json) {\n    const parts = json.parts;\n    const accordion = solidUI.createElement('DIV','accordion');\n    if(!parts || !parts.length) return accordion;\n    for(let row of parts){\n       let item = solidUI.createElement( 'DIV' );\n       let rowhead = solidUI.createElement( 'DIV','' );\n       let name = solidUI.createElement('SPAN','',row.label || row.topic) ;\n       name.style.display=\"table-cell\";\n       name.style.width=\"100%\";\n       rowhead.appendChild(name);\n       let caret = solidUI.createElement('SPAN','caret-down','\\u2304') ;       \n       caret.style.display=\"table-cell\";\n       caret.textAlign=\"right\";\n       rowhead.appendChild(caret);\n       rowhead.style.backgroundColor = json.unselBackground;\n       rowhead.style.color = json.unselColor;\n       rowhead.style.padding=\"0.75em\";\n       rowhead.style.border=\"1px solid grey\";\n       rowhead.style.cursor = \"pointer\";\n       let rowContent = solidUI.createElement( 'DIV');\n       if(row.content) rowContent.innerHTML = row.content;\n       else {\n        console.log(json)\n        for(let i=0;i<row.linkLabel.length;i++){\n          let label = row.linkLabel[i];\n          let link = row.linkUrl[i];\n          let button=solidUI.createElement('BUTTON','',label);\n          button.setAttribute('data-link',link) ;\n          button.style.width=\"100%\";\n          button.style.border=\"none\";\n          button.style.background=\"transparent\";\n          button.style.marginBottom=\"0.25em\";\n          button.style.cursor=\"pointer\";\n          button.onclick = (e) => {\n            showByClass(e);\n          }\n          rowContent.appendChild(button);\n        }\n       }\n       rowContent.style.padding=\"0.75em\";\n       rowContent.style.border=\"1px solid grey\";\n       rowContent.style.borderTop=\"none\"; \n       rowContent.style.display = \"none\";\n       rowhead.onclick = (e)=>{\n         let showing = rowContent.style.display === \"block\" ;\n         let items = accordion.children;\n         for(let i of items) {\n           i.children[1].style.display=\"none\";\n         }\n         rowContent.style.display = showing ?\"none\" :\"block\";\n       }\n       rowContent.style.backgroundColor = json.background;\n       rowContent.style.color = json.color;\n       item.appendChild(rowhead);\n       item.appendChild(rowContent);\n       item.style.marginBottom = \"1em\";\n       accordion.appendChild(item);\n    }\n    solidUI.simulateClick(accordion.querySelector('DIV DIV DIV'))\n    return await solidUI.initInternal(accordion);  \n  }\n}\n","import {createLoginBox,applyProfile} from '../databrowser.js';\n\nexport class App {\n  async render(solidUI,app){\n\n    // GET/SET DEFAULTS\n    //\n    app = solidUI.setDefaults(app);\n    if(app.fullPage){\n      window.addEventListener('resize',()=>{\n         app = mainHeight(app);\n         let mm = document.getElementById('mainMain')\n         let tab = document.getElementById('suicTabulator')\n         if(mm) mm.style.height = app.mainHeight;\n         if(tab) tab.style.height = app.mainHeight;\n      });\n      document.body.style.overflow=\"hidden\";\n    }\n\n    // FIND NUMBER OF PIXELS IN 1 REM - VARIES WITH BROWSER/USER SETTINGS\n    function rem2px(){\n      let el = document.createElement('DIV');\n      el.style=\"height:1rem\";\n      document.body.appendChild(el);\n      let remSize = el.clientHeight;\n      document.body.removeChild(el);\n      return(remSize);\n    }\n    // SET BODY HEIGHT TO WINDOW HIEGHT MINUS HEADER + MENU \n    function mainHeight(app){\n      let rem = rem2px();\n      app.menuHeight = 2*rem;\n      window.SolidAppContext = { scroll : app.headerHeight }\n      app.headerHeight = 6*rem;\n      app.mainHeight = ( window.innerHeight-app.headerHeight )\n      app.headerHeight = app.headerHeight.toString()+'px';\n      app.mainHeight = app.mainHeight.toString()+'px';\n      return app;\n    }\n    app = mainHeight(app);\n\n    // DISPLAY HEADER IF app.logo OR app.title\n    //\n    app.logo ||= \"\";\n    app.title ||= \"\";\n    app.headerHeight = ( app.logo || app.title || app.adminMenu ) ?app.headerHeight : \"0\";\n\n    // DISPLAY MENU AT TOP OR LEFT DEPENDING ON app.orientation\n    //\n    app.leftMenu = \"\" ;\n    app.siteMenu = \"\" ;\n    if(app.orientation===\"horizontal\"){\n      app.leftMenuStyle = \"display:none\";\n    }\n    else {\n      app.leftMenuStyle = `\n        display:block;\n        width:36vw !important;\n        height:${app.mainHeight};\n        overflow-y:scroll;\n        margin:0;\n        padding:0;\n      `;\n    }\n\n    let appString = await this.getHTML(app);\n    let element = solidUI.createElement('SPAN','',appString);\n    let solidLogo = element.querySelector('#solidLogo')\n    if(solidLogo) solidLogo.src = 'https://solidproject.org/assets/img/solid-emblem.svg';\n\n//    if(typeof app.currentPodMenu==='object')app.currentPodMenu.target = element.querySelector('.main');\n    let menuElement = element.querySelector(\"#currentPodMenu\");\n    if( app.orientation===\"vertical\"){\n      menuElement = element.querySelector(\"NAV\");\n    }\n    const menu = await solidUI.processComponent(menuElement,app.currentPodMenu);\n    if(menuElement) menuElement.appendChild(menu);\n    if(app.userMenu) {\n      const amenu = await solidUI.processComponent(menuElement,app.userMenu);\n      let umenu = element.querySelector('#userMenu')\n      if( umenu) umenu.appendChild(amenu);\n    }\n    if(app.loginBox) await createLoginBox(element);\n    await applyProfile(element); // munge site menu\n    if(app.initialContent) {\n      let content = await solidUI.getComponentHash(app.initialContent);\n      content = content.content.interpolate(solidUI.vars)\n      let main = element.querySelector('#mainMain');\n      if(main) main.innerHTML = content;\n    }\n    return element;\n  }\nrem2vw(rem) {\n  const viewportWithoutScroll = document.body.clientWidth;\n  const pxPerVw = 100/viewportWithoutScroll;\n  return( rem * pxPerVw);  \n}\nrem2vh(rem) {\n  const viewportWithoutScroll = window.innerHeight;\n  const pxPerVw = 100/viewportWithoutScroll;\n  return( rem * 16 * pxPerVw);  \n}\n  async getHTML(app){ \n     app.leftColumnColumnStyle ||= \"display:none\";\n     app.leftColumnColumnMenu ||= \"\";\n     app.siteMenu ||= \"\";\n     app.leftColumnColumnStyle ||= \"\";\n     app.iframeSrc ||= \"\";\n     app.iframeContent ||= \"\";\n     app.logoStyle = `\n             height: 3rem;\n            display: inline-block;\n       padding-left: 0.5rem;\n     `;\n     app.titleStyle = `\n       display:inline-block;\n       vertical-align:top; align:left;\n       font-size: 2rem;\n       padding-top: 0.4rem;\n       padding-left:1rem;\"\n     `;\n     app.appStye = `\n              display: flex;\n       flex-direction: column;\n                width: 100%;\n               height: 100%;\n     `;\n      app.mainStyle = `\n        padding:0rem;\n        width:100%;\n        overflow:scroll;\n        position:absolute;\n        top:${app.headerHeight} !important;\n        left:0;\n        height:${app.mainHeight};\n     `;\n     if(app.theme) {\n        try {      \n//          let response = await panes.UI.store.fetcher.webOperation('GET',app.theme);\n          let response = await window.fetch(app.theme);\n          let content = await response.text();\n          content = solidUI.fillTemplate(content,[app]);\n          return await content;\n        }\n        catch(e){console.log(e)}\n     }\n     return `\n<!--APP-->\n<div class=\"solid-uic-app solid-main-app\">\n\n    <!--BANNER-->\n    <div class=\"app-banner\">\n\n        <!--USER IMAGE & NAME-->  \n        <img id=\"currentPodLogo\" src=\"\">\n        <div id=\"currentPodTitle\"></div>\n\n\n        <!--ADMIN MENU, LOGIN, SOLID LOGO-->\n        <div style=\"background:${app.unselBackground};text-align:center;position:absolute;top:0.5rem;right:7rem;\"><span id=\"adminMenu\" style=\"white-space: nowrap;\"></span> </div>\n        <div id=\"loginArea\"></div>\n        <img src=\"${app.logo}\" style=\"height:7rem;position:absolute;top:-0.5rem;right:-0.5rem\">\n\n        <!--PUBLIC MENU-->\n        <div id=\"currentPodMenu\" style=\"white-space:nowrap;position:absolute;top:3rem;left:7.4rem;\">${app.siteMenu}</div>\n\n    </div><!--BANNER-->\n\n    <!--MAIN WRAPPER-->\n<!--    <div style=\"display:flex;flex-direction:row;width:100%;height:100%;\"> -->\n    <div style=\"width:100%;height:100%;min-height:0;\">\n\n        <!-- LEFT COLUMN MENU (IF EXISTS) -->\n        <div class=\"leftColumn\" style=\"${app.leftMenuStyle}\">${app.leftMenu}</div>\n\n        <!--MAIN MAIN-->\n        <div id=\"mainMain\" style=\"min-height:0;${app.mainStyle}\"></div>\n\n        <!--MAIN TABULATOR-->\n            <div class=\"TabulatorOutline\" role=\"main\" id=\"suicTabulator\" style=\"${app.mainStyle}\">\n                <table id=\"outline\"></table>\n                <div id=\"GlobalDashboard\"></div>\n            </div>\n\n    </div><!--MAIN WRAPPER-->\n\n</div><!--APP-->\n<style>\n  #suicTabulator{\n    top:${app.headerHeight} !important;\n    overflow:scroll !important;\n    min-height: 0; \n  }\n  #suicTabulator table {\n    background:#7e7e7e !important;\n    color:white !important;\n  }\n  .solid-main-app {\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n    height: 100%;\n  }\n  .solid-main-app .app-banner {\n     width:100%;\n     display:flex;\n     background:${app.unselBackground};\n     color:black;\n  }\n  .solid-main-app input[type=\"button\"]:hover {\n    background:${app.selBackground};\n    color:${app.selColor};\n  }\n  .solid-main-app #currentPodTitle {\n    left:8rem;\n    font-size:1.3rem;\n    position:absolute;\n    top:1rem;\n  }\n  .solid-main-app #currentPodLogo {\n    height:${app.headerHeight}\n  }\n</style>\n\n    `;\n  }\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","export class Form {\n  async render(solidUI,json){\n    const container = document.createElement(\"DIV\",'uic-form');\n    const dom = window.document;\n    const form = await solidUI.loadUnlessLoaded(json.form);\n    await solidUI.loadUnlessLoaded(json.formSubject);\n    const subject = await solidUI.loadUnlessLoaded(json.formSubject);\n    if(!subject) return console.log(\"ERROR : Couldn not load form subject \",json.formSubject)\n    let doc = json.formResultDocument;\n    if(!doc && subject.doc) doc = subject.doc();\n    const script = json.script || function(){};\n    try {\n      UI.widgets.appendForm(dom, container, {}, subject, form, doc, script);\n    }\n    catch(e){return console.log(e)}  \n    if(json.onchange) {\n      const vals = container.querySelectorAll('.formFieldValue button');\n      for(let v of vals){\n        v.onclick = \"alert(3)\";\n      }\n    }\n    return container;\n  }\n\n}\n","export class Menu {\n\n  async render( solidUI, json,element ){\n    if(typeof json==='string'){\n      json = await solidUI.processComponent(element,json);\n    }\n    let nav     = solidUI.createElement('NAV','solid-uic-dropdown-menu')\n    let topUL   = document.createElement('UL')\n    let mainDisplay = document.createElement('DIV')\n//    nav.style.width=\"100%\";\n    nav.style.background=json.unselBackground;\n    nav.style.color=json.unselColor;\n//    nav.style.paddingLeft=\"1rem\";\n//    nav.style.paddingRight=\"1em\";\n//    topUL.style.width=\"100%\";\n    mainDisplay.style.width=\"100%\";\n    mainDisplay.style.backgroundColor = json.background;\n    mainDisplay.style.color = json.color;\n    mainDisplay.innerHTML=\"\";\n    mainDisplay.classList.add('main');\n    nav.appendChild(topUL)\n    for(var i of json.parts){\n      topUL.appendChild( await this.renderMenuItem(i,json,mainDisplay) )\n    }\n    const wrapper = solidUI.createElement('SPAN');\n    nav.style.display=\"inline-block\";\n    nav.style.textAlign=json.position;\n    topUL.style.textAlign=json.position;\n    wrapper.appendChild(nav);\n    wrapper.appendChild(mainDisplay);\n    return(wrapper);\n  }\n\n  async renderMenuItem(i,json,mainDisplay){\n    if(i.menu && i.menu.type && i.menu.type === \"SparqlQuery\"){\n      let menu = await solidUI.processComponent(null,null,i.menu);\n      if(typeof menu===\"object\") i.parts = menu\n    }\n    const li = document.createElement('LI')\n    const sp =  document.createElement('SPAN')\n    sp.innerHTML = i.label\n    li.appendChild(sp)\n    li.style.cursor=\"pointer\"\n    li.style.display=\"inline-block\";\n    li.style.backgroundColor = json.unselBackground;\n    li.style.color = json.unselColor;\n    li.onmouseover = ()=>{\n      li.style.backgroundColor = json.selBackground;\n      li.style.color = json.selColor;\n    } \n    li.onmouseout = ()=>{\n      li.style.backgroundColor = json.unselBackground;\n      li.style.color = json.unselColor;\n    } \n    if(i.popout || !i.parts){\n// i.target=json.target;\n      /*\n       *  <li class=\"item\"><span>${i.label}</span></li>\n       */\n      li.classList.add('item')\n      li.name = i.href\n      const self = this\n/*\n      li.addEventListener('click',(e)=>{\n        window.displayLink(e,i,mainDisplay)\n      })\nWe can't easily override the eventListener later so use onclick instead.\n*/\n      li.onclick = (e)=>{\n        i.href = e.target.parentElement.name;\n        window.displayLink(e,i,mainDisplay)\n      }\n    }\n    else {\n      /*\n        <li class=\"caret\">\n          <span class=\"caret\" style=\"cursor:pointer;\">${i.title}</span>\n          <ul class=\"nested\">\n          </ul>\n        </li>\n      */\n      li.classList.add('caret')\n      let ul2 = document.createElement('UL')\n      li.appendChild(ul2)\n      ul2.classList.add('nested')     \n      for(var m in i.parts){\n        let newItem = i.parts[m]\n        if(typeof newItem==='object') newItem.target=json.target;\n        ul2.appendChild( await this.renderMenuItem(newItem,json,mainDisplay) )\n      }\n    }\n    return li\n  }\n}\n","export class Modal {\n  async render (solidUI,json) {\n    const modal = document.createElement('SPAN');\n    const s = _getCSS(json);\n    modal.innerHTML = `\n      <button style=\"${s['button']}\" onclick=\"window.openModal(this)\">\n        ${json.label}\n      </button>\n      <div style=\"${s['.modal']}\">\n        <div style=\"${s['.modal-content']}\">\n          <div style=\"${s['.close']}\" onclick=\"window.closeModal(this)\">\n            &times;\n          </div>\n          ${json.content}\n        </div>\n      </div>\n    `;\n    return await solidUI.initInternal(modal);  \n  }\n}\n  function _getCSS(current){\n    return {\n    \"button\": `\n      background-color:${current.unselBackground};\n      color:${current.unselColor};\n      padding:1rem;\n      cursor:pointer;\n    `,\n    \".modal\": `\n      display: none; /* Hidden by default */\n      position: fixed; /* Stay in place */\n      z-index: 1; /* Sit on top */\n      left: 0;\n      top: 0;\n      width: 100%; /* Full width */\n      height: 100%; /* Full height */\n      overflow: auto; /* Enable scroll if needed */\n      background-color: rgb(0,0,0); /* Fallback color */\n      background-color: rgba(0,0,0,0.2); /* Black w/ opacity */\n    `,\n    \".modal-content\": `\n      background-color: #fefefe;\n      margin: 15% auto; /* 15% from the top and centered */\n      padding: 1rem;\n      border: 1px solid #888;\n      border-radius:0.5rem;\n      width: ${current.width};\n    `,\n    \".close\": `\n      color:red;\n      text-align:right;\n      margin-bottom: 0.25rem;\n      font-size: 2rem;\n      font-weight: bold;\n      cursor:pointer;\n    `\n    }\n  }\n","export class Table {\n  render(json) {\n    const results = json.parts;\n    if(!results || !results.length) {\n      console.log(\"No results!\");\n      return document.createElement('SPAN');\n    }\n    let table = document.createElement('TABLE');\n    let columnHeaders = Object.keys(results[0]);\n    let headerRow = document.createElement('TR');\n    for(let c of columnHeaders){\n      let cell = document.createElement('TH');\n      cell.innerHTML = c;\n      cell.style.border=\"1px solid black\";\n      cell.style.padding=\"0.5em\";\n      cell.style.background=json.unselBackground;\n      cell.style.color=json.unselColor;\n      headerRow.appendChild(cell);\n    }\n    table.appendChild(headerRow);\n    for(let row of results){\n      let rowElement = document.createElement('TR');\n      for(let col of columnHeaders){\n        let cell = document.createElement('TD');\n        cell.innerHTML = row[col];\n        cell.style.border=\"1px solid black\";\n        cell.style.padding=\"0.5em\";\n        cell.style.backgroundColor=json.background;\n        cell.style.color=json.color;\n        rowElement.appendChild(cell);\n      }\n      table.appendChild(rowElement);\n    }\n    table.style.borderCollapse=\"collapse\";\n    return table;\n  }\n}\n// ENDS\n","export class Tabs {\n  async render(solidUI,json) {\n    const parts = json.parts\n    const tabs = solidUI.createElement('DIV','solid-uic-tabs');\n    if(json.style) tabs.style = json.style;\n    const nav = solidUI.createElement('NAV');\n    if(json.orientation===\"vertical\")\n      nav.style.textAlign = \"right\";\n    else\n      nav.style.textAlign = json.position;\n    let mainDisplay = solidUI.createElement( 'DIV' );\n    mainDisplay.style.backgroundColor = json.background;\n    mainDisplay.style.color = json.color;\n    let r = 0;    \n    for(let row of parts){\n      r++;\n      let rowhead = solidUI.createElement( 'BUTTON',r,row.label );\n      rowhead.style.backgroundColor = json.unselBackground;\n      rowhead.style.color = json.unselColor;\n      rowhead.style.padding=\"0.75em\";\n      rowhead.style.border=\"1px solid grey\";\n      rowhead.style.cursor = \"pointer\";\n      let rowContent = solidUI.createElement( 'DIV',r,row.content );\n      rowContent.style.padding=\"0.75em\";\n      if(json.orientation===\"horizontal\") rowContent.style.border=\"1px solid grey\";  \n      rowContent.style.display = \"none\";\n      if(row.type===\"SolidOSLink\"){\n        let id = `tab-${r}-outline`;\n        rowContent.innerHTML = `\n          <div class=\"TabulatorOutline\" id=\"${id}-tabulator\" role=\"main\">\n            <table id=\"${id}\"></table>\n            <div id=\"GlobalDashboard\"></div>\n          </div>\n        `;\n        let subject = window.kb.sym(row.href);\n        let targetArea = rowContent.querySelector('#'+id);\n        targetArea.style=\"display:table-row;background-color:c0c0c0\"\n        window.outliner.GotoSubject(subject,true,undefined,true,undefined,targetArea);\n      }\n      rowhead.onclick = (e)=>{\n        e.preventDefault();\n        let items = tabs.querySelector('DIV').children;\n        for(let i of items) {\n          i.style.display=\"none\";\n        }\n        for(let n of nav.children) {\n          n.style.backgroundColor=json.unselBackground;\n          n.style.color=json.unselColor;\n        }\n        rowhead.style.backgroundColor = json.selBackground;\n        rowhead.style.color = json.selColor;\n        rowContent.style.display = \"block\";\n      }\n      nav.appendChild(rowhead);\n      mainDisplay.appendChild(rowContent);\n    if(json.orientation===\"vertical\"){\n      rowhead.style.display=\"block\";\n      rowhead.style.marginBottom = \"0.5em\";\n      rowhead.style.width=\"100%\"\n      tabs.style.width=\"100%\";\n      tabs.style.height=\"100%\";\n      tabs.style.display = \"table-row\";\n      nav.style.display = \"table-cell\";\n      mainDisplay.style.display = \"table-cell\";\n      mainDisplay.style.display=\"block\"\n      mainDisplay.style.height = \"100%\";\n      rowContent.style.height = \"100%\";\n    }\n    else {\n      rowhead.style.marginRight = \"0.5em\";\n      rowhead.style.borderBottom = \"none\";\n    }\n  }\n    tabs.appendChild(nav);\n      const closeButton = document.createElement('SPAN');\n      closeButton.style = `\n        color:red;\n        text-align:right;\n        position:absolute;\n        top:0.25rem;\n        right:0.25rem;\n        font-size: 2rem;\n        font-weight: bold;\n        cursor:pointer\n      `;\n      closeButton.addEventListener('click',(e)=>{\n        e.preventDefault();\n        e.target.parentElement.style.display=\"none\";\n      });\n      closeButton.innerHTML = \"&times\";\n\n    tabs.appendChild(closeButton);\n    tabs.appendChild(mainDisplay);\n    solidUI.simulateClick(tabs.querySelector('BUTTON'))\n    return await solidUI.initInternal(tabs);  \n  }\n}\n","import * as user from  './user.js';\nimport {createLoginBox,applyProfile} from  './databrowser.js';\n// DataSources\nimport {Feed} from './model/rss.js';\nimport {Sparql} from './model/sparql.js';\n// Templates\nimport {Accordion} from './view/accordion.js';\nimport {App} from './view/app.js';\nimport {Form} from './view/form.js';\nimport {Menu} from './view/menu.js';\nimport {Modal} from './view/modal.js';\nimport {SelectorPanel} from './view/selectorPanel.js';\nimport {Table} from './view/table.js';\nimport {Tabs} from './view/tabs.js';\n\n\nconst sparql = new Sparql();\nconst proxy = \"https://solidcommunity.net/proxy?uri=\";\nconst $rdf = panes.UI.rdf;\nconst kb = window.kb = $rdf.graph();\nwindow.outliner = panes.getOutliner(document);\nlet fetcher;\nconst skos = $rdf.Namespace('http://www.w3.org/2004/02/skos/core#');\nconst ui = $rdf.Namespace('http://www.w3.org/ns/ui#');\nconst rdf=$rdf.Namespace('http://www.w3.org/1999/02/22-rdf-syntax-ns#');\n\nclass SolidUIcomponent {\n\n  constructor(){\n  }\n\n  async init(){\n\n    // fetcher = this.makeLSfetcher(UI); // see drafts/in-browser-fetcher.js\n    const all = document.querySelectorAll('[data-solid_ui_component]')\n    for(let element of all) {\n      const content = await this.processComponent(element);\n      if(content) element.appendChild( content );\n    }\n  }\n\n  async initInternal(containingElement){\n    const all = containingElement.querySelectorAll('[data-solid_ui_component]')\n    for(let element of all) {\n      const content = await this.processComponent(element);\n      element.appendChild( content );\n    }\n    return containingElement;\n  }\n\n  async processComponent(element,subject,json){\n    if(!json){    \n      if(!subject && element && element.dataset) subject = await this.loadUnlessLoaded(element.dataset.solid_ui_component);\n      if(!subject) return null;\n      json = await this.getComponentHash(subject)\n    }\n    json ||= subject;\n    if(!json) {console.log(\"No ComponentHASH \",subject); return;}\n\n    // default color,orientation,position\n    json = this.getDefaults(json);\n\n//    if(json.type.match(/Link/)){\n//      return displayLink(json)\n//    }\n\n    // DATASOURCE\n    let dataSource = typeof json.dataSource===\"string\" ?await this.getComponentHash(json.dataSource) : json.dataSource ;\n    if(dataSource && dataSource.type==='SparqlQuery') {\n      let endpoint = dataSource.endpoint;\n      let query = dataSource.query;\n      json.parts = await this.sparqlQuery(endpoint,query,json);\n      if(json.type==='SparqlQuery') return json.parts;\n    }\n    if(json.type==='SparqlQuery') {\n      json.parts = await this.sparqlQuery(json.endpoint,json.query,json);\n      if(json.type==='SparqlQuery') return json.parts;\n    }\n    if(json.type==='AnchorList') {\n      for(let l of json.content.split(/\\n/) ){\n\n      }\n    }\n    if(json.parts && json.groupOn){\n      json.parts = sparql.flatten(json.parts,json.groupOn)\n      console.log(json.groupOn,json.parts)\n    }\n    if(json.type==='App'){\n      return await (new App()).render(this,json);\n    }\n    else if(json.type && json.type.match(/Link/)){\n      return await window.displayLink(element,json,element);\n    }\n    else if(json.type==='Menu'){\n      return await (new Menu()).render(this,json,element);\n    }\n    else if(json.type==='Feed'&&(json.href||json.link)){\n      return await (new Feed()).render(this,json);\n    }\n    else if(json.type==='SelectorPanel'){\n      let panel = new SelectorPanel();\n      let d = this.setDefaults(json);\n      return await panel.render(json);\n    }\n    else if(json.type==='ModalButton'){\n      return await (new Modal()).render(this,json)\n    }\n    else if(json.type==='Accordion'){\n      return await (new Accordion()).render(this,json)\n    }\n    else if(json.type==='FormComponent'){\n      return await (new Form()).render(this,json)\n    }\n    else if(json.type==='Tabset'){\n      return await (new Tabs).render(this,json)\n    }\n    let contentWrapper = document.createElement('DIV');\n    let results,before,after,content,label;\n\n// RECORD\n    if(json.type==='Record') {\n      label = this.getValue( dataSource, ui('label') );\n      content = this.getValue( dataSource, ui('content') );\n      results = {label,content} ;\n    }\n\nresults = results || json.parts;  \nthis.log('Parts for Component',results);\n// TEMPLATE\n    let template = json.template;\n    if(!template){\n      return results;\n    }\n    if(template.groupOn) {\n      results = sparql.flatten(results,template.groupOn)\n    }   \n    \n      if(template==\"AccordionMenu\"){\n        let compo = await this.runBuiltIn(template,results);\n        if(compo) contentWrapper.appendChild(compo);\n        return contentWrapper;\n      }\n      if(template==\"Table\"){\n        let compo = await (new Table()).render(json);\n        if(compo) contentWrapper.appendChild(compo);\n        return contentWrapper;\n      }\n      if(template==\"ModalButton\"){\n        let compo = await this.makeMmodal(json.label,json.content);\n        if(compo) contentWrapper.appendChild(compo);\n        return contentWrapper;\n      }\n      let recurring;\n// let template = json.template.value ?json.template.value :json.template ;\n\n/*\n      let isBuiltIn = template.match(/^https:\\/\\/www.w3.org\\/ns\\/ui#/) ;\n      if( isBuiltIn ) {\n        if(template.match(/ModalButton/)) {\n          results = await this.makeModalButton(label,content);\n        }\n        else if( template.match(/DropdownMenu/ || dataSourceType===\"App\") ){\n            let m = new Menu();\n            let results = await m.render(subject,contentWrapper)\n            // console.log(results)\n        }\n        else {\n          results = await this.runBuiltIn(template,results);\n        }\n        if(results) contentWrapper.appendChild(results);\n      }\n*/\n        if(typeof template==\"string\") {\n          template = await this.getComponentHash(template);\n        }\n        recurring = template.recurring;\n        before = template.before;\n        after = template.after;\n//        recurring = recurring || template;\n        let body = this.fillTemplate(recurring,results);\n        contentWrapper.innerHTML = (before||\"\") + body + (after||\"\");\n\n/*\n      if( dataSourceType.match(/Menu/) ) {\n        for(let menuItem of contentWrapper.children){\n          menuItem.addEventListener('click',(event)=>this.menu(event));\n        }\n      }\n*/\n      return contentWrapper ;\n    \n  }\n  async getComponentHash(subject,hash){\n    subject = await this.loadUnlessLoaded(subject);\n    if(!subject) return null;\n    let predicatePhrases = kb.match(subject,null,null);\n    if(subject.doc){\n      let thisdoc = kb.match(null,null,null,subject.doc())\n    }\n    hash = hash || {}\n    for(let p of predicatePhrases){\n      let pred = p.predicate.value.replace(/http:\\/\\/www.w3.org\\/1999\\/02\\/22-rdf-syntax-ns#/,'').replace(/http:\\/\\/www.w3.org\\/ns\\/ui#/,'');\n      let obj = p.object;\n\tif(obj.termType===\"BlankNode\"){\n        obj = await this.getComponentHash(obj);\n        if(!hash[pred])  hash[pred] = obj;\n        else if(typeof hash[pred] !='ARRAY') hash[pred] = [obj]\n        else hash[pred].push(obj);\n      }\n      else if(obj.termType===\"Collection\"){\n        obj = obj.elements;\n        for(let uri of obj){\n          let component = await this.getComponentHash(uri,{});\n          if(!hash[pred])  hash[pred] = [component];\n          else hash[pred].push(component);\n        }\n      }\n      else {\n        obj = obj.value.replace(/^http:\\/\\/www.w3.org\\/ns\\/ui#/,'');\n        if(!hash[pred])  hash[pred] = obj;\n        else if(typeof hash[pred] !='ARRAY') hash[pred] = [obj]\n        else hash[pred].push(obj);\n      }\n      if(hash[pred].length==1) hash[pred]=hash[pred][0];\n    }\n    return hash ;\n  }\n  log(...args){\n    if(typeof DEBUG!=\"undefined\") console.log(args);\n  }\n  setStyle(element,styles){\n    for(let s of Object.keys(styles)){\n      element.style[s]=styles[s];\n    }\n  }\n\n\n/*-----------\n  SPARQL\n----------*/\n  async sparqlQuery(endpoint,queryString,json){\n    if(typeof Comunica !=\"undefined\")\n      return await sparql.comunicaQuery(endpoint,queryString,json);\n    else   \n      return await sparql.rdflibQuery(solidUI,kb,endpoint,queryString,json);  \n  }\n\n\n/* ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n  DISPLAY METHODS\n~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ */\n\ngetDefaults(json){\n  if(typeof json==\"string\") json = this.processComponent('',json)\n  json.height ||= this.height;\n  json.width ||= this.width;\n  json.proxy ||= this.proxy || proxy;\n  json.background ||= this.background || \"#fff\";\n  json.color ||= this.color || \"#000\";\n  json.selBackground ||= this.selBackground || \"#559\";\n  json.selColor ||= this.selColor || \"#fff\";\n  json.unselBackground ||= this.unselBackground || \"#99d\";\n  json.unselColor ||= this.unselColor || \"#000\";\n  json.orientation ||= this.orientation || \"horizontal\";\n  json.position ||= this.position || \"left\";\n  this.proxy = json.proxy\n  return(json);\n}\nsetDefaults(json){\n  if(typeof json==\"string\") json = this.processComponent('',json)\n  this.background = json.background;\n  this.color = json.color;\n  this.selBackground = json.selBackground;\n  this.selColor = json.selColor;\n  this.unselBackground = json.unselBackground;\n  this.unselColor = json.unselColor;\n  this.orientation = json.orientation;\n  this.position = json.position\n  this.proxy = json.proxy\n  return(this.getDefaults(json));\n}\n\n  fillTemplate(templateStr,object){\n    function fillOneTemplateRow(templateStr,object){\n      for(let o of Object.keys(object) ){\n        let newStuff=object[o]||\" \";\n        if(typeof newStuff==='object' && newStuff.length>1) newStuff = newStuff.join(\", \");\n        let re = new RegExp( `\\\\$\\\\{${o}\\\\}`, 'gi' );\n        templateStr  = templateStr.replace( re, newStuff );\n      }\n      return templateStr;\n    }\n    let string = \"\";\n    for(let r of object){\n       string += fillOneTemplateRow(templateStr,r)+\"\\n\";\n    }\n    return string;\n  }\n\n  runBuiltIn(json,template,results){\n    if(template.match(/Table/)) return this.results2table(json,results);\n    if(template.match(/Modal/)) return this.results2modal(results);\n    if(template.match(/Accordion/)) return tabset(results);\n    if(template.match(/DescriptionList/)) return this.results2descriptionList(results);\n  }\n\n  /* UTILITIES\n  */\n\n  diff(diffMe, diffBy){ diffMe.split(diffBy).join('') }\n\n  simulateClick(el){\n    if (el.fireEvent) {\n      el.fireEvent('on' + 'click');\n    } else {\n      var evObj = document.createEvent('Events');\n      evObj.initEvent('click', true, false);\n      el.dispatchEvent(evObj);\n    }\n  }\n\n  // CREATE HTML ELEMENT\n  createElement(elementType,className,html,styles){\n    let element = document.createElement(elementType);\n    if(className) element.classList.add(className);\n    if(html) element.innerHTML = html;\n    if(styles){\n      for(let s of styles.split(/;/)) {\n        let pair = s.split(/:/)\n        if(pair.length==2) \n          element.style[pair[0].trim()]=pair[1].trim();\n      }\n    }\n    return element;\n  }\n  getComponentType(subject){\n    if(!subject) return null;\n    let uiNamespace = 'http://www.w3.org/ns/ui#';\n    let type = kb.each( subject, rdf('type') ).map( (object) =>{\n      object = object.value;\n      if(object.match(/ns\\/ui#/)) return object.replace(/.*\\#/,'');\n    });\n    return type[0] || \"\";\n  }\n\n  async clearInline(){\n    for(let stm of kb.match()){\n      if(stm.graph.value.startsWith('inline:')) kb.remove(stm);\n    }\n  }\n\n  loadFromMemory(sentUri){\n    let uri = sentUri //.replace(/^inline:/,'');\n    if( kb.any(null,null,null,$rdf.sym(uri)) ) return $rdf.sym(uri);\n    let [eName,fragment] = uri.split(/#/);\n    let eDoc = document.getElementById(eName)\n    let uiString = eDoc.innerText || eDoc.value;\n    uiString = uiString.trim()\n    if(uiString.startsWith('\\<\\!\\[CDATA\\[')) uiString=uiString.replace(/^\\<\\!\\[CDATA\\[/,'').replace(/\\]\\]$/,'').replace(/~~/g,'#');\n    try {\n      $rdf.parse(  uiString, kb, uri, \"text/turtle\" ); \n      return($rdf.sym(uri));\n    }\n    catch(e) { console.log(e) }\n  }\n\n  async  loadUnlessLoaded(uri){\n    try {\n      if(uri.termType && uri.termType===\"BlankNode\") return uri;\n      uri = typeof uri===\"object\" ?uri.uri :uri;\n      if(!uri) return;\n      if(uri.startsWith('inline')) return this.loadFromMemory(uri);\n      if(!uri.startsWith('http')&&!uri.startsWith('ls')) uri = window.location.href.replace(/\\/[^\\/]*$/,'/') + uri;\n      const mungedUri = uri.replace(/\\#[^#]*$/,'');\n      let graph = $rdf.sym(mungedUri);\n      if( !kb.any(null,null,null,graph) ){\n        console.log(\"loading \"+graph.uri+\" ...\");\n        fetcher = fetcher || $rdf.fetcher(kb);\n        let r = await fetcher.load(graph.uri);\n        if(kb.any(null,null,null,graph)) console.log(`<${graph.uri}> loaded!`);\n        else console.log(`<${graph.uri}> could not be loaded!`);\n//console.log(kb.match(null,null,null,graph));\n      }\n      else console.log(`<${graph.uri}> already loaded!`);\n      return $rdf.sym(uri);\n    }\n    catch(e) { console.log(e); return null }\n  }\n   getValue(s,p,o,g) {\n     let node = kb.any( s, p, o, g );\n     return node ?node.value :\"\" \n   }\n   valuesContain(s,p,o,g,wanted) {\n    let nodes = kb.each( s, p, o, g );\n    for(let n of nodes) {\n      n = n ?n.value :\"\";\n      if(n===wanted) return n;\n    }\n  }\n\n} // END OF CLASS SolidUIcomponent\n\nconst solidUI = new SolidUIcomponent();\ndocument.addEventListener('DOMContentLoaded',()=>{solidUI.init();});\nexport default solidUI;\n","export class Sparql {\n\n  async rdflibQuery(solidUI,kb,endpoint,queryString,json){\n    await solidUI.loadUnlessLoaded(endpoint);\n    try {\n      const preparedQuery=await $rdf.SPARQLToQuery(queryString,false,kb);\n      let wanted = preparedQuery.vars.map( stm=>stm.label );\n      let table = [];\n      let results = kb.querySync(preparedQuery);\n      for(let r of results){\n        let row = {};\n        for(let w of wanted){\n          let value = r['?'+w];\n          row[w] = value ?value.value :\"\";\n        }\n        table.push(row);\n      }\n      table = table.sort((a,b)=>a.label > b.label ?1 :-1);\n      return table\n    }\n    catch(e) { console.log(e); }\n  }\n\n  async  comunicaQuery(endpoint,sparqlStr){\n   try {\n    let comunica = Comunica.newEngine() ;\n    function munge(x){\n       return x ? x.replace(/^\"/,'').replace(/\"[^\"]*$/,'') :\"\";\n    }\n    let result = await comunica.query(sparqlStr,{sources:[endpoint]}) ;\n    let wanted = result.variables;\n    result = await result.bindings()\n    let table = [];\n    let hash = {};\n    for(let e of result.entries()) {\n      if( !e[1] ||  !e[1]._root || !e[1]._root.entries ) continue;\n      e = e[1]._root.entries\n      let row = {} ;\n      for(let i in e){\n        let key = munge( e[i][0].replace(/^\\?/,''))\n        row[key] = row[key] || \"\";\n        let value = munge(e[i][1].id)\n        if( typeof row[key] != 'ARRAY' ) row[key]= [row[key]]\n        if( typeof row[key] === \"ARRAY\" ) row[key].push(value)\n        else row[key] = value;\n      }\n      // include keys even for empty values\n      for(let key of wanted){\n        key = key.replace(/^\\?/,'');\n        row[key] = row[key] || \"\"\n      }\n      table.push(row);\n    }\n    if(!table.length) console.log('No results!');\n    return table;\n   }\n   catch(e){console.log(e)}\n  }\nflatten(results,groupOn){\n  const newResults = {};\n  for(let row of results) {\n    let key = row[groupOn];\n    if(!newResults[key]) newResults[key]={};\n    for(let k of Object.keys(row)){\n      if(!newResults[key][k]) {\n        newResults[key][k]=row[k];\n        continue;\n      }  \n      if(newResults[key][k].includes(row[k])) continue;\n      if(typeof newResults[key][k]!=\"object\") newResults[key][k]=[newResults[key][k]]\n      newResults[key][k].push(row[k])\n    }\n  }\n  results = [];\n  for(let n of Object.keys(newResults)){\n    results.push(newResults[n])\n  }\n  return results;\n} \n\n} // class Sparql  \n\n"],"names":["root","factory","exports","module","define","amd","self","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","d","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","$rdf","panes","UI","rdf","kb","store","fetcher","RDFS","Namespace","OWL","FOAF","SOLID","PIM","LDP","VCARD","getObject","subject","predicate","sym","value","any","getObjects","each","results","v","push","async","applyProfile","domElement","me","document","origin","window","storage","webId","load","extendedDocs","concat","doc","name","nick","image","inbox","preferences","privateTypeIndex","publicTypeIndex","storages","issuers","loadProfile","hmenu","querySelectorAll","h","uri","URL","e","path","pathname","replace","hash","match","logo","querySelector","src","title","innerHTML","solidUI","vars","podRoot","podName","podNick","podWebid","podImage","podInbox","podProfile","console","log","mungeAnchors","element","noStyle","anchors","anchor","classList","contains","addEventListener","event","preventDefault","display","target","closest","href","parentElement","displayLink","needsIframe","style","String","interpolate","params","names","keys","vals","values","Function","this","openModal","action","children","closeModal","item","link","type","popout","newElement","processComponent","body","appendChild","alert","startsWith","getElementById","targetElement","wantedPane","pane","byName","pod","URLSearchParams","location","search","set","history","replaceState","setHistory","outliner","GotoSubject","containingEl","main","tabulator","wrapper","content","span","createElement","initInternal","linkType","newItem","orientation","menu","format","fetch","text","marked","parse","showMarkdown","div","script","nativeIframe","iframe","b","srcdoc","scrollTo","top","behavior","getIframe","Feed","feedUri","encodeURI","proxy","response","feedContent","feedDom","DOMParser","parseFromString","items","length","parsedItems","forEach","el","getAttribute","trim","json","externalLinkIcon","icons","iconBase","i","fetchAndParse","displayTarget","property","standAlone","label","selBackground","selColor","height","listItems","li","width","Accordion","parts","accordion","row","rowhead","topic","caret","textAlign","backgroundColor","unselBackground","color","unselColor","padding","border","cursor","rowContent","linkLabel","linkUrl","button","setAttribute","background","marginBottom","onclick","showByClass","borderTop","showing","simulateClick","App","app","mainHeight","rem","remSize","clientHeight","removeChild","rem2px","menuHeight","SolidAppContext","scroll","headerHeight","innerHeight","toString","setDefaults","fullPage","mm","tab","overflow","adminMenu","leftMenu","siteMenu","leftMenuStyle","appString","getHTML","solidLogo","menuElement","currentPodMenu","userMenu","amenu","umenu","loginBox","loginButtonArea","mungeLoginArea","authn","currentUser","checkUser","initAuth","loginStatusBox","loginButtons","authSession","onLogin","onLogout","onSessionRestore","url","createLoginBox","initialContent","getComponentHash","rem2vw","clientWidth","rem2vh","leftColumnColumnStyle","leftColumnColumnMenu","iframeSrc","iframeContent","logoStyle","titleStyle","appStye","mainStyle","theme","fillTemplate","Form","container","dom","form","loadUnlessLoaded","formSubject","formResultDocument","widgets","appendForm","onchange","Menu","nav","topUL","mainDisplay","add","renderMenuItem","position","sp","onmouseover","onmouseout","ul2","m","Modal","modal","s","current","Table","render","table","columnHeaders","headerRow","c","cell","rowElement","col","borderCollapse","Tabs","tabs","r","id","targetArea","n","marginRight","borderBottom","closeButton","sparql","endpoint","queryString","preparedQuery","SPARQLToQuery","wanted","map","stm","querySync","w","sort","a","sparqlStr","comunica","Comunica","newEngine","munge","x","result","query","sources","variables","bindings","entries","_root","flatten","groupOn","newResults","k","includes","graph","getOutliner","ui","constructor","all","containingElement","dataset","solid_ui_component","dataSource","getDefaults","sparqlQuery","l","split","panel","SelectorPanel","before","after","contentWrapper","getValue","recurring","template","compo","runBuiltIn","makeMmodal","predicatePhrases","p","pred","object","termType","elements","component","args","DEBUG","setStyle","styles","comunicaQuery","rdflibQuery","templateStr","fillOneTemplateRow","newStuff","join","re","RegExp","string","results2table","results2modal","tabset","results2descriptionList","diff","diffMe","diffBy","fireEvent","evObj","createEvent","initEvent","dispatchEvent","elementType","className","html","pair","getComponentType","remove","loadFromMemory","sentUri","eName","fragment","eDoc","uiString","innerText","mungedUri","g","node","valuesContain","nodes","init"],"sourceRoot":""}